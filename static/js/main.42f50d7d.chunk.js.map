{"version":3,"sources":["components/UserSpace.js","components/ComputerSpace.js","components/Gameboard.js","components/StartGameModal.js","components/ShipModal.js","components/Controls.js","gameEngine.js","components/EndGameModal.js","App.js","index.js"],"names":["UserSpace","setStyle","styles","props","damage","ship","Object","assign","backgroundColor","onClick","e","handleSpaceClick","index","style","this","role","Component","ComputerSpace","handleAttack","Gameboard","Fragment","id","usersTurn","computer","map","space","key","user","StartGameModal","componentDidMount","isModalOpen","document","body","overflow","componentWillUnmount","handleChange","event","setState","name","target","value","handleDifficultyChange","difficulty","handleShipPlacementOption","placement","handleSubmit","preventDefault","setUserSettings","state","className","onSubmit","type","onChange","placeholder","autoFocus","selected","href","rel","color","borderRadius","fontWeight","ShipModal","isShipModalOpen","handleClick","dataset","shipLength","shipDirection","handleShipPlacement","data-ship-length","data-ship-direction","tabIndex","length4","disabled","length3","length2","length1","pointerEvents","outline","Controls","flipBoard","newGame","generateBoard","arr","i","push","generateRandomNum","n","Math","floor","random","coordinatesArr","num","Array","letters","j","Number","toString","getCoordinate","getIndex","coordinate","indexOf","getSurroundingSpaces","letter","length","slice","letterIndex","filtered","filter","coords","substring","getNextSpace","coordinates","nextSpace","direction","nextNum","nextLetter","console","log","generateComputerShip","unshift","generateComputerBoard","board","shipLengths","ships","shipsAndSurrounding","checkForDuplicates","mainArr","newArr","forEach","item","includes","getCorrectSurroundingSpaces","Set","flat","surrounding","s","EndGameModal","gameOver","winner","App","UNSAFE_componentWillMount","getInitialState","initialState","userShips","computerShips","placementOption","username","sur","setTimeout","allShipsPlaced","shipToPlace","available","totalSurrounding","surroundingSpacesAvailable","every","isValidPlacement","attackCounter","checkForSunkenShip","checkForWinner","computerAttack","computerAttackCounter","userShipCoordinates","userShipIndexes","concat","attack","spaceToAttack","cheatAttack","shipToAttack","incrementAttackCounter","shipIndex","userOrComputer","sunk","computerWin","displayTurnKeeper","placedShipCounter","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.42f50d7d.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport class UserSpace extends Component {\n\t//place ships: click = gray\n\n\t//game begin: click = dark blue for attack\n\t//if hit computer ship: red/damage\n\n\tsetStyle = () => {\n\t\tlet styles = {};\n\n\t\tif (this.props.damage && this.props.ship) {\n\t\t\tconst damage = {\n\t\t\t\tbackgroundColor: '#a35252',\n\t\t\t};\n\t\t\tstyles = Object.assign(styles, damage);\n\t\t} else if (this.props.damage) {\n\t\t\tconst damage = {\n\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, .2)',\n\t\t\t};\n\t\t\tstyles = Object.assign(styles, damage);\n\t\t} else if (this.props.ship) {\n\t\t\tconst ship = {\n\t\t\t\tbackgroundColor: '#8e8e8e',\n\t\t\t};\n\t\t\tstyles = Object.assign(styles, ship);\n\t\t}\n\n\t\treturn styles;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonClick={(e) =>\n\t\t\t\t\tthis.props.handleSpaceClick(e, this.props.index)\n\t\t\t\t}\n\t\t\t\tstyle={this.setStyle()}\n\t\t\t\trole='presentation'\n\t\t\t></div>\n\t\t);\n\t}\n}\n\nexport default UserSpace;\n","import React, { Component } from 'react';\n\nexport class ComputerSpace extends Component {\n\t//game begin:\n\t//dark blue = missile\n\t//red = damage\n\n\tsetStyle = () => {\n\t\tlet styles = {};\n\n\t\tif (this.props.damage && this.props.ship) {\n\t\t\tconst damage = {\n\t\t\t\tbackgroundColor: '#a35252',\n\t\t\t};\n\t\t\tstyles = Object.assign(styles, damage);\n\t\t} else if (this.props.damage) {\n\t\t\tconst damage = {\n\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, .2)',\n\t\t\t};\n\t\t\tstyles = Object.assign(styles, damage);\n\t\t}\n\t\treturn styles;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonClick={(e) => this.props.handleAttack(e, this.props.index)}\n\t\t\t\tstyle={this.setStyle()}\n\t\t\t\trole='presentation'\n\t\t\t></div>\n\t\t);\n\t}\n}\n\nexport default ComputerSpace;\n","import React, { Component } from 'react';\nimport UserSpace from './UserSpace';\nimport ComputerSpace from './ComputerSpace';\n\nexport class Gameboard extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div id='gameboard'>\n\t\t\t\t\t{!this.props.usersTurn\n\t\t\t\t\t\t? this.props.user.map((space, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<UserSpace\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\thandleSpaceClick={\n\t\t\t\t\t\t\t\t\t\t\tthis.props.handleSpaceClick\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//space[0] = ship is placed in that space\n\t\t\t\t\t\t\t\t\t\t//space[1] = space has been hit by missile\n\t\t\t\t\t\t\t\t\t\tship={space[0]}\n\t\t\t\t\t\t\t\t\t\tdamage={space[1]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: this.props.computer.map((space, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<ComputerSpace\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\thandleAttack={this.props.handleAttack}\n\t\t\t\t\t\t\t\t\t\tship={space[0]}\n\t\t\t\t\t\t\t\t\t\tdamage={space[1]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })}\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Gameboard;\n","import React, { Component } from 'react';\n\nexport class StartGameModal extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tdifficulty: 'medium',\n\t\t\tplacement: 'random',\n\t\t};\n\t}\n\n\tcomponentDidMount = () => {\n\t\tif (this.props.isModalOpen) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tdocument.body.style.overflow = 'unset';\n\t};\n\n\thandleChange = (event) => {\n\t\tthis.setState({ name: event.target.value });\n\t};\n\n\thandleDifficultyChange = (event) => {\n\t\tthis.setState({ difficulty: event.target.value });\n\t};\n\n\thandleShipPlacementOption = (event) => {\n\t\tthis.setState({ placement: event.target.value });\n\t};\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tthis.props.setUserSettings(\n\t\t\tthis.state.name,\n\t\t\tthis.state.difficulty,\n\t\t\tthis.state.placement,\n\t\t);\n\n\t\tthis.setState({ name: '' });\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='modal-background'>\n\t\t\t\t<div className='modal'>\n\t\t\t\t\t<h1>battleship</h1>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tplaceholder='name (optional)'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t></input>\n\t\t\t\t\t\t<p className='difficulty'>\n\t\t\t\t\t\t\t<b>difficulty</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonChange={this.handleDifficultyChange}\n\t\t\t\t\t\t\tclassName='difficulty-select'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tthis.state.difficulty === 'easy'\n\t\t\t\t\t\t\t\t\t\t? selected\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\teasy\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\t\t\tvalue='easy'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className='difficulty-radio'></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tthis.state.difficulty === 'medium'\n\t\t\t\t\t\t\t\t\t\t? selected\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tmedium\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\t\t\tvalue='medium'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className='difficulty-radio'></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tthis.state.difficulty === 'hard'\n\t\t\t\t\t\t\t\t\t\t? selected\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\thard\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\t\t\tvalue='hard'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className='difficulty-radio'></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className='placement'>\n\t\t\t\t\t\t\t\t<b>ship placement</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonChange={this.handleShipPlacementOption}\n\t\t\t\t\t\t\t\tclassName='placement-select'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tthis.state.placement === 'custom'\n\t\t\t\t\t\t\t\t\t\t\t? selected\n\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tcustom\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='placement-select'\n\t\t\t\t\t\t\t\t\t\tvalue='custom'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className='placement-select'></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tthis.state.placement === 'random'\n\t\t\t\t\t\t\t\t\t\t\t? selected\n\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\trandom\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='placement-select'\n\t\t\t\t\t\t\t\t\t\tvalue='random'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className='placement-select'></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button type='submit'>play</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<p className='about-info'>\n\t\t\t\t\t\tmade by austin ftacnik{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://github.com/aplyd/battleship'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tgithub\n\t\t\t\t\t\t</a>{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://twitter.com/austinftacnik'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\ttwitter\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst selected = {\n\tbackgroundColor: 'white',\n\tcolor: '#808080',\n\tborderRadius: '5px',\n\tfontWeight: 'bold',\n};\n\nexport default StartGameModal;\n","import React, { Component } from 'react';\n\nexport class ShipModal extends Component {\n\tcomponentDidMount = () => {\n\t\tif (this.props.isShipModalOpen) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tdocument.body.style.overflow = 'unset';\n\t};\n\n\thandleClick = (event) => {\n\t\tconst { shipLength, shipDirection } = event.target.dataset;\n\n\t\tthis.props.handleShipPlacement(shipLength, shipDirection);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='modal-background'>\n\t\t\t\t<div className='modal ship-select-modal'>\n\t\t\t\t\t<h2>select a ship to place on the map</h2>\n\n\t\t\t\t\t<div className='ship-selection-container'>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\tclassName='ship ship-v4'\n\t\t\t\t\t\t\tdata-ship-length='4'\n\t\t\t\t\t\t\tdata-ship-direction='vertical'\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-40'\n\t\t\t\t\t\t\tstyle={this.props.length4 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-v3'\n\t\t\t\t\t\t\tdata-ship-length='3'\n\t\t\t\t\t\t\tdata-ship-direction='vertical'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-41'\n\t\t\t\t\t\t\tstyle={this.props.length3 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-v2'\n\t\t\t\t\t\t\tdata-ship-length='2'\n\t\t\t\t\t\t\tdata-ship-direction='vertical'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-42'\n\t\t\t\t\t\t\tstyle={this.props.length2 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-h4'\n\t\t\t\t\t\t\tdata-ship-length='4'\n\t\t\t\t\t\t\tdata-ship-direction='horizontal'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-43'\n\t\t\t\t\t\t\tstyle={this.props.length4 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-h3'\n\t\t\t\t\t\t\tdata-ship-length='3'\n\t\t\t\t\t\t\tdata-ship-direction='horizontal'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-44'\n\t\t\t\t\t\t\tstyle={this.props.length3 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-h2'\n\t\t\t\t\t\t\tdata-ship-length='2'\n\t\t\t\t\t\t\tdata-ship-direction='horizontal'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-45'\n\t\t\t\t\t\t\tstyle={this.props.length2 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='ship ship-h1'\n\t\t\t\t\t\t\tdata-ship-length='1'\n\t\t\t\t\t\t\tdata-ship-direction='horizontal'\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\trole='button'\n\t\t\t\t\t\t\ttabIndex='-46'\n\t\t\t\t\t\t\tstyle={this.props.length1 ? null : disabled}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst disabled = {\n\tbackgroundColor: 'rgb(0, 0, 0, 0)',\n\tpointerEvents: 'none',\n\toutline: 'none',\n};\n\nexport default ShipModal;\n","import React, { Component } from 'react';\n\nexport class Controls extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='controls-container'>\n\t\t\t\t<button\n\t\t\t\t\tclassName='view-other-gameboard-btn'\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={this.props.flipBoard}\n\t\t\t\t>\n\t\t\t\t\t{this.props.usersTurn ? 'view ships' : 'view opponent'}\n\t\t\t\t</button>\n\n\t\t\t\t<div className='about-control-info'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tmade by austin ftacnik //{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://github.com/aplyd/battleship'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tgithub\n\t\t\t\t\t\t</a>{' '}\n\t\t\t\t\t\t//{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://twitter.com/austinftacnik'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\ttwitter\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName='new-game-btn'\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={this.props.newGame}\n\t\t\t\t>\n\t\t\t\t\tnew game\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Controls;\n","//TODO - difficulties\n//easy - computer selection is random\n//normal - computer selection is random, but when it hits a ship, it sinks the rest of the ship\n//hard - computer knows where your ships are, and hits every other time\n\nexport function generateBoard() {\n\tconst arr = [];\n\tfor (let i = 0; i < 100; i++) {\n\t\tarr.push([false, false, 0]);\n\t}\n\n\treturn arr;\n}\n\nexport const generateRandomNum = (n) => Math.floor(Math.random() * n);\n\nexport const generateUniqueNums = (n) => {\n\tconst arr = [];\n\n\twhile (arr.length < 20) {\n\t\tconst num = generateRandomNum(n);\n\t\tif (!arr.includes(num)) {\n\t\t\tarr.push(num);\n\t\t}\n\t}\n\n\treturn arr;\n};\n\nexport function coordinatesArr() {\n\tconst arr = [...Array(100)];\n\tconst letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j'];\n\tlet num;\n\n\tfor (let i = 0; i < 10; i++) {\n\t\tfor (let j = 0; j < 10; j++) {\n\t\t\tnum = i + 1;\n\t\t\tarr[Number('' + i + j)] = letters[j] + num.toString();\n\t\t}\n\t}\n\treturn arr;\n}\n\nexport const getCoordinate = (index) => {\n\tconst arr = coordinatesArr();\n\n\treturn arr[index];\n};\n\nexport const getIndex = (coordinate) => {\n\treturn coordinatesArr().indexOf(coordinate);\n};\n\nexport const getSurroundingSpaces = (coordinate = 'c6') => {\n\t//instead of just add/sub from the index of coordinate, using letters helps be aware of edge of grid;\n\t//the x's are there for fallback. if the returned coordinate is 'x6', its not on the grid.\n\t//not necesarry for nums because -1 or 11 aren't on grid either\n\tconst letters = [\n\t\t'x',\n\t\t'x',\n\t\t'x',\n\t\t'a',\n\t\t'b',\n\t\t'c',\n\t\t'd',\n\t\t'e',\n\t\t'f',\n\t\t'g',\n\t\t'h',\n\t\t'i',\n\t\t'j',\n\t\t'x',\n\t\t'x',\n\t\t'x',\n\t];\n\n\t//var because something something block scoped\n\tif (coordinate !== null) {\n\t\tvar num;\n\t\tvar letter = coordinate[0];\n\t\tcoordinate.length === 2\n\t\t\t? (num = Number(coordinate[1]))\n\t\t\t: (num = Number(coordinate.slice(-2)));\n\t\tvar letterIndex = letters.indexOf(letter);\n\t}\n\n\tlet arr = [];\n\n\t//god this is ugly\n\tarr.push(letters[letterIndex - 1] + (num - 1));\n\tarr.push(letters[letterIndex] + (num - 1));\n\tarr.push(letters[letterIndex + 1] + (num - 1));\n\tarr.push(letters[letterIndex - 1] + num);\n\tarr.push(letters[letterIndex + 1] + num);\n\tarr.push(letters[letterIndex - 1] + (num + 1));\n\tarr.push(letters[letterIndex] + (num + 1));\n\tarr.push(letters[letterIndex + 1] + (num + 1));\n\n\tlet filtered = arr.filter(\n\t\t(coords) =>\n\t\t\t!!coords &&\n\t\t\tNumber(coords.substring(1)) <= 10 &&\n\t\t\tNumber(coords.substring(1)) >= 1 &&\n\t\t\tcoords[0] !== 'x',\n\t);\n\n\treturn filtered;\n};\n\nexport const getNextSpace = (coordinates, direction = 'down') => {\n\tlet nextSpace;\n\n\tif (coordinates === null) {\n\t\tnextSpace = null;\n\t} else {\n\t\tconst letters = [\n\t\t\t'x',\n\t\t\t'x',\n\t\t\t'x',\n\t\t\t'a',\n\t\t\t'b',\n\t\t\t'c',\n\t\t\t'd',\n\t\t\t'e',\n\t\t\t'f',\n\t\t\t'g',\n\t\t\t'h',\n\t\t\t'i',\n\t\t\t'j',\n\t\t\t'x',\n\t\t\t'x',\n\t\t\t'x',\n\t\t];\n\n\t\tconst letter = coordinates[0];\n\t\tlet num;\n\t\tlet nextNum;\n\t\tconst letterIndex = letters.indexOf(letter);\n\t\tlet nextLetter;\n\n\t\tcoordinates.length === 2\n\t\t\t? (num = Number(coordinates[1]))\n\t\t\t: (num = Number(coordinates.slice(-2)));\n\n\t\tswitch (direction) {\n\t\t\tcase 'up':\n\t\t\t\tnextNum = num - 1;\n\t\t\t\tnextNum < 1\n\t\t\t\t\t? (nextSpace = null)\n\t\t\t\t\t: (nextSpace = letter + nextNum);\n\t\t\t\tbreak;\n\t\t\tcase 'down':\n\t\t\tcase 'vertical':\n\t\t\t\tnextNum = num + 1;\n\t\t\t\tnextNum > 10\n\t\t\t\t\t? (nextSpace = null)\n\t\t\t\t\t: (nextSpace = letter + nextNum);\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tnextLetter = letters[letterIndex - 1];\n\t\t\t\tnextLetter === 'x'\n\t\t\t\t\t? (nextSpace = null)\n\t\t\t\t\t: (nextSpace = nextLetter + num);\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\tcase 'horizontal':\n\t\t\t\tnextLetter = letters[letterIndex + 1];\n\t\t\t\tnextLetter === 'x'\n\t\t\t\t\t? (nextSpace = null)\n\t\t\t\t\t: (nextSpace = nextLetter + num);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\n\t\t\t\t\t'oh no, error in getNextSpace func. didnt pass up, down, left, or right',\n\t\t\t\t);\n\t\t}\n\t}\n\n\treturn nextSpace;\n};\n\nexport const generateComputerShip = (length) => {\n\tconst ship = [];\n\tlet directions = ['up', 'down', 'left', 'right'];\n\tlet direction = directions[generateRandomNum(4)];\n\tlet space = getCoordinate(generateRandomNum(100));\n\n\tship.unshift(space);\n\n\tfor (let i = 1; i < length; i++) {\n\t\tship.unshift(getNextSpace(ship[0], direction));\n\t}\n\n\treturn ship;\n};\n\n//TODO - get surrounding spaces\nexport function generateComputerBoard() {\n\tconst board = generateBoard();\n\tconst shipLengths = [4, 3, 3, 2, 2, 2, 1, 1, 1, 1];\n\tlet ships = [];\n\tlet shipsAndSurrounding = [];\n\n\tconst checkForDuplicates = (mainArr, newArr) => {\n\t\tlet value = false;\n\t\tmainArr.forEach((item) => {\n\t\t\tif (newArr.includes(item)) {\n\t\t\t\tvalue = true;\n\t\t\t}\n\t\t});\n\t\treturn value;\n\t};\n\n\tconst getCorrectSurroundingSpaces = (ship) => {\n\t\tlet arr = [];\n\t\tship.forEach((space) => {\n\t\t\tarr.push(getSurroundingSpaces(space));\n\t\t});\n\n\t\treturn [...new Set(arr.flat())];\n\t};\n\n\tfor (let i = 0; i < shipLengths.length; i++) {\n\t\twhile (true) {\n\t\t\tconst ship = generateComputerShip(shipLengths[i]);\n\t\t\tconst surrounding = getCorrectSurroundingSpaces(ship);\n\n\t\t\tif (\n\t\t\t\t!ship.includes(null) && //valid placement\n\t\t\t\t!checkForDuplicates(ships, ship) && //no duplicate ship spaces\n\t\t\t\t!checkForDuplicates(ships, surrounding)\n\t\t\t) {\n\t\t\t\tships.push(...ship);\n\t\t\t\t//storing surrounding spaces to use for when the ship sinks and need to reveal surrounding\n\t\t\t\tshipsAndSurrounding.push({\n\t\t\t\t\tindex: i + 1,\n\t\t\t\t\tlength: shipLengths[i],\n\t\t\t\t\tship: ship.map((s) => getIndex(s)),\n\t\t\t\t\tsurrounding: surrounding.map((s) => getIndex(s)),\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tshipsAndSurrounding.forEach((i) => {\n\t\ti.ship.forEach((j) => {\n\t\t\tboard[j][2] = i.index;\n\t\t});\n\t});\n\n\tships.forEach((i) => {\n\t\tboard[getIndex(i)][0] = true;\n\t});\n\n\treturn [board, shipsAndSurrounding];\n}\n","import React, { Component } from 'react';\n\nexport class EndGameModal extends Component {\n\tcomponentDidMount = () => {\n\t\tif (this.props.gameOver) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tdocument.body.style.overflow = 'unset';\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='modal-background end-game-modal'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='end-game-display'\n\t\t\t\t\tonClick={this.props.newGame}\n\t\t\t\t\trole='presentation'\n\t\t\t\t>\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{this.props.winner === 'user' ? 'you won' : 'you lost'}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<p>(click anywhere to play again)</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EndGameModal;\n","import React, { Component } from 'react';\n\nimport './App.css';\n\nimport Gameboard from './components/Gameboard';\nimport StartGameModal from './components/StartGameModal';\nimport ShipModal from './components/ShipModal';\nimport Controls from './components/Controls';\n\nimport {\n\tgenerateComputerBoard,\n\tgenerateBoard,\n\tgenerateRandomNum,\n\tgetCoordinate,\n\tgetIndex,\n\tgetSurroundingSpaces,\n\tgetNextSpace,\n} from './gameEngine';\nimport EndGameModal from './components/EndGameModal';\n\n//TODO - refactor with \"state machine\"\n//TODO - option to remove ship\n//TODO - random ship placement for user\n\n//board spaces have 3 options [false, false, 0]. [0] is ship, [1] is damage, [0] is space touching ship\nexport class App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.initialState = {\n\t\t\tisModalOpen: true,\n\t\t\tisShipModalOpen: false,\n\t\t\tusername: '',\n\t\t\tuser: null,\n\t\t\tuserShips: [],\n\t\t\tcomputer: null,\n\t\t\tcomputerShips: [],\n\t\t\tcomputerAttackCounter: 0,\n\t\t\tallShipsPlaced: false,\n\t\t\tplacedShipCounter: 0,\n\t\t\tusersTurn: false,\n\t\t\tattackCounter: 0,\n\t\t\tdifficulty: 'easy',\n\t\t\tplacementOption: null,\n\t\t\tshipToPlace: [],\n\t\t\tlength4: 1,\n\t\t\tlength3: 2,\n\t\t\tlength2: 3,\n\t\t\tlength1: 4,\n\t\t\tgameOver: false,\n\t\t\twinner: null,\n\t\t};\n\t\tthis.state = {};\n\t}\n\n\tUNSAFE_componentWillMount = () => {\n\t\tthis.getInitialState();\n\t};\n\n\tgetInitialState = () => {\n\t\tthis.setState(this.initialState);\n\t\t//this is needed bc setState is shallow merge and doesn't delete userShips nested objects\n\t\tthis.setState({ userShips: [] });\n\t\tconst user = generateBoard();\n\t\tconst [computer, computerShips] = generateComputerBoard();\n\t\tthis.setState({ user, computer, computerShips });\n\t};\n\n\tsetUserSettings = (name, difficulty, placementOption) => {\n\t\tif (placementOption === 'custom') {\n\t\t\tthis.setState({\n\t\t\t\tusername: name,\n\t\t\t\tdifficulty,\n\t\t\t\tisModalOpen: false,\n\t\t\t\tisShipModalOpen: true,\n\t\t\t});\n\t\t} else if (placementOption === 'random') {\n\t\t\tconst [user, userShips] = generateComputerBoard();\n\n\t\t\tuserShips.forEach((i) => {\n\t\t\t\ti.ship.forEach((ship) => (ship = getIndex(ship)));\n\t\t\t\ti.surrounding.forEach((sur) => (sur = getIndex(sur)));\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tuserShips,\n\t\t\t\tuser,\n\t\t\t\tusername: name,\n\t\t\t\tdifficulty,\n\t\t\t\tisModalOpen: false,\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tallShipsPlaced: true,\n\t\t\t\t\tusersTurn: true,\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t}\n\t};\n\n\thandleSpaceClick = (e, index) => {\n\t\tconst user = [...this.state.user];\n\t\tconst userShips = this.state.userShips;\n\t\tlet [length, direction] = this.state.shipToPlace;\n\t\tlet ship = [];\n\t\tlet surrounding = [];\n\t\tconst available = user[index][0] === false;\n\n\t\tconst isValidPlacement = () => {\n\t\t\tif (this.state.shipToPlace.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tship.unshift(getCoordinate(index));\n\n\t\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\t\tship.unshift(getNextSpace(ship[0], direction));\n\t\t\t}\n\n\t\t\tconst totalSurrounding = ship.map((space) => {\n\t\t\t\treturn getSurroundingSpaces(space);\n\t\t\t});\n\n\t\t\t//remove duplicates\n\t\t\tsurrounding = [...new Set(totalSurrounding.flat())];\n\n\t\t\tlet surroundingSpacesAvailable = surrounding.every((space) => {\n\t\t\t\treturn !user[getIndex(space)][0];\n\t\t\t});\n\n\t\t\tif (!ship.includes(null) && surroundingSpacesAvailable) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\t//handle ship placement\n\t\tif (!this.state.allShipsPlaced) {\n\t\t\tif (available && isValidPlacement() && this.state.shipToPlace) {\n\t\t\t\tuserShips.push({\n\t\t\t\t\tindex: userShips.length + 1,\n\t\t\t\t\tlength: Number(length),\n\t\t\t\t\tship,\n\t\t\t\t\tsurrounding,\n\t\t\t\t});\n\n\t\t\t\tship.forEach((space) => {\n\t\t\t\t\tuser[getIndex(space)][0] = true;\n\t\t\t\t\tuser[getIndex(space)][2] = userShips.length;\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tuserShips,\n\t\t\t\t\tuser,\n\t\t\t\t\tshipToPlace: [],\n\t\t\t\t});\n\n\t\t\t\t//reopen ship modal if theres still ships to be placed\n\t\t\t\tif (userShips.length === 10) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tallShipsPlaced: true,\n\t\t\t\t\t\t\tusersTurn: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 500);\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({ isShipModalOpen: true });\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\thandleShipPlacement = (length, direction) => {\n\t\tswitch (Number(length)) {\n\t\t\tcase 4:\n\t\t\t\tthis.setState({ length4: this.state.length4 - 1 });\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.setState({ length3: this.state.length3 - 1 });\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.setState({ length2: this.state.length2 - 1 });\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.setState({ length1: this.state.length1 - 1 });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('error in handleShipPlacement switch');\n\t\t}\n\t\tthis.setState({ isShipModalOpen: false });\n\t\tthis.setState({ shipToPlace: [length, direction] });\n\t};\n\n\thandleAttack = (e, index) => {\n\t\t//copy computer board because thats what were attacking\n\t\tconst computer = [...this.state.computer];\n\t\tif (\n\t\t\tthis.state.attackCounter < 1 &&\n\t\t\t!this.state.gameOver &&\n\t\t\tcomputer[index][1] === false\n\t\t) {\n\t\t\t//using attack counter to ensure only 1 attack per turn\n\t\t\tthis.setState({ attackCounter: this.state.attackCounter + 1 });\n\t\t\t//computer[index][0] = occupied by ship, [1] = has been damaged\n\t\t\t//if attack hits ship, allow for another turn\n\t\t\tif (computer[index][0] === true) {\n\t\t\t\tcomputer[index][1] = true;\n\t\t\t\tthis.setState({\n\t\t\t\t\tcomputer,\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ attackCounter: 0 });\n\t\t\t\tthis.checkForSunkenShip(\n\t\t\t\t\tthis.state.computer,\n\t\t\t\t\tcomputer[index][2],\n\t\t\t\t\t'user',\n\t\t\t\t);\n\t\t\t\tthis.checkForWinner();\n\t\t\t\t//if not, dont allow for another turn\n\t\t\t} else {\n\t\t\t\tcomputer[index][1] = true;\n\t\t\t\tthis.setState({\n\t\t\t\t\tcomputer,\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.checkForWinner();\n\t\t\t\t\tthis.setState({ usersTurn: false, attackCounter: 0 });\n\t\t\t\t\tthis.computerAttack();\n\t\t\t\t}, 1000);\n\t\t\t\tthis.checkForSunkenShip(\n\t\t\t\t\tthis.state.computer,\n\t\t\t\t\tcomputer[index][2],\n\t\t\t\t\t'user',\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tcomputerAttack = () => {\n\t\tconst user = [...this.state.user];\n\t\tlet computerAttackCounter = this.state.computerAttackCounter;\n\n\t\tconst userShipCoordinates = this.state.userShips.map((i) => i.ship);\n\t\tconst userShipIndexes = [].concat(...userShipCoordinates);\n\t\t// const userShipIndexes = flatCoordinates.map((coord) => getIndex(coord));\n\n\t\tconst attack = () => {\n\t\t\twhile (true) {\n\t\t\t\tconst spaceToAttack = generateRandomNum(user.length);\n\n\t\t\t\t//available to attack + ship occupied\n\t\t\t\tif (\n\t\t\t\t\tuser[spaceToAttack][1] === false &&\n\t\t\t\t\tuser[spaceToAttack][0] === true\n\t\t\t\t) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuser[spaceToAttack][1] = true;\n\t\t\t\t\t\tthis.setState({ user });\n\t\t\t\t\t}, 750);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.checkForSunkenShip(\n\t\t\t\t\t\t\tthis.state.user,\n\t\t\t\t\t\t\tuser[spaceToAttack][2],\n\t\t\t\t\t\t\t'computer',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.checkForWinner();\n\t\t\t\t\t}, 750);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.computerAttack();\n\t\t\t\t\t}, 750);\n\t\t\t\t\tbreak;\n\t\t\t\t\t//available to attack\n\t\t\t\t} else if (user[spaceToAttack][1] === false) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuser[spaceToAttack][1] = true;\n\t\t\t\t\t\tthis.setState({ user });\n\t\t\t\t\t}, 750);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.checkForSunkenShip(\n\t\t\t\t\t\t\tthis.state.user,\n\t\t\t\t\t\t\tuser[spaceToAttack][2],\n\t\t\t\t\t\t\t'computer',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.checkForWinner();\n\t\t\t\t\t}, 750);\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({ usersTurn: true });\n\t\t\t\t\t}, 1500);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst cheatAttack = () => {\n\t\t\twhile (true) {\n\t\t\t\tlet shipToAttack = generateRandomNum(userShipIndexes.length);\n\n\t\t\t\tif (user[userShipIndexes[shipToAttack]][1] === false) {\n\t\t\t\t\tuser[userShipIndexes[shipToAttack]][1] = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({ user });\n\t\t\t\t\t\tthis.checkForSunkenShip(\n\t\t\t\t\t\t\tthis.state.user,\n\t\t\t\t\t\t\tuser[userShipIndexes[shipToAttack]][2],\n\t\t\t\t\t\t\t'computer',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.checkForWinner();\n\t\t\t\t\t}, 750);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.computerAttack();\n\t\t\t\t\t}, 750);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst incrementAttackCounter = () => {\n\t\t\tthis.setState({ computerAttackCounter: computerAttackCounter + 1 });\n\t\t};\n\n\t\t//checks for difficulty\n\t\tif (this.state.difficulty === 'easy' && !this.state.gameOver) {\n\t\t\tincrementAttackCounter();\n\t\t\tattack();\n\t\t} else if (this.state.difficulty === 'medium' && !this.state.gameOver) {\n\t\t\t//medium - every 3rd attack is a cheat\n\t\t\tif (this.state.computerAttackCounter % 4 === 0) {\n\t\t\t\tincrementAttackCounter();\n\t\t\t\tcheatAttack();\n\t\t\t} else {\n\t\t\t\tincrementAttackCounter();\n\t\t\t\tattack();\n\t\t\t}\n\t\t} else if (this.state.difficulty === 'hard' && !this.state.gameOver) {\n\t\t\t//hard - every 2nd attack is a cheat\n\t\t\tif (this.state.computerAttackCounter % 2 === 0) {\n\t\t\t\tincrementAttackCounter();\n\t\t\t\tcheatAttack();\n\t\t\t} else {\n\t\t\t\tincrementAttackCounter();\n\t\t\t\tattack();\n\t\t\t}\n\t\t}\n\t};\n\n\t//TODO - fix this garbage\n\tcheckForSunkenShip = (board, shipIndex, userOrComputer) => {\n\t\t//filter out if it hit a ship or not\n\t\tif (shipIndex === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t//put all paces related to ship in an array\n\t\tconst ship = board.filter((space) => {\n\t\t\treturn space[2] === shipIndex;\n\t\t});\n\n\t\t//check if all spaces have been hit\n\t\tconst sunk = ship.every((space) => space[1]);\n\n\t\t//user attack\n\t\tif (sunk && userOrComputer === 'user') {\n\t\t\tthis.state.computerShips[shipIndex - 1].surrounding.forEach((i) => {\n\t\t\t\tboard[i][1] = true;\n\t\t\t});\n\n\t\t\tthis.setState({ computer: board });\n\t\t\t//computer attack\n\t\t} else if (sunk && userOrComputer === 'computer') {\n\t\t\tthis.state.userShips[shipIndex - 1].surrounding.forEach((i) => {\n\t\t\t\tboard[i][1] = true;\n\t\t\t});\n\n\t\t\tthis.setState({ user: board });\n\t\t}\n\t};\n\n\tcheckForWinner = () => {\n\t\tif (!this.state.gameOver) {\n\t\t\tconst { user, computer } = this.state;\n\n\t\t\tconst userShips = user.filter((space) => space[0] === true);\n\t\t\tconst computerShips = computer.filter((space) => space[0] === true);\n\n\t\t\tconst computerWin = userShips.every((ship) => ship[1]);\n\t\t\tconst userWin = computerShips.every((ship) => ship[1]);\n\n\t\t\tif (userWin) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tgameOver: true,\n\t\t\t\t\twinner: 'user',\n\t\t\t\t\tisShipModalOpen: false,\n\t\t\t\t\tisModalOpen: false,\n\t\t\t\t});\n\t\t\t} else if (computerWin) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tgameOver: true,\n\t\t\t\t\twinner: 'computer',\n\t\t\t\t\tisShipModalOpen: false,\n\t\t\t\t\tisModalOpen: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tdisplayTurnKeeper = () => {\n\t\tif (this.state.allShipsPlaced) {\n\t\t\treturn this.state.usersTurn ? '<' : '>';\n\t\t}\n\t};\n\n\tflipBoard = () => {\n\t\tthis.setState({ usersTurn: !this.state.usersTurn });\n\t};\n\n\tnewGame = () => {\n\t\tthis.getInitialState();\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.state.gameOver ? (\n\t\t\t\t\t<EndGameModal\n\t\t\t\t\t\twinner={this.state.winner}\n\t\t\t\t\t\tnewGame={this.newGame}\n\t\t\t\t\t\tgameOver={this.state.gameOver}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.isModalOpen ? (\n\t\t\t\t\t<StartGameModal\n\t\t\t\t\t\tsetUserSettings={this.setUserSettings}\n\t\t\t\t\t\tisModalOpen={this.state.isModalOpen}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.isShipModalOpen ? (\n\t\t\t\t\t<ShipModal\n\t\t\t\t\t\thandleShipPlacement={this.handleShipPlacement}\n\t\t\t\t\t\tisShipModalOpen={this.state.isShipModalOpen}\n\t\t\t\t\t\tlength1={this.state.length1}\n\t\t\t\t\t\tlength2={this.state.length2}\n\t\t\t\t\t\tlength3={this.state.length3}\n\t\t\t\t\t\tlength4={this.state.length4}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t<div className='turn-keeper'>\n\t\t\t\t\t<h2>{this.state.username ? this.state.username : 'you'}</h2>\n\t\t\t\t\t<h2 className='turn-keeper-arrow'>\n\t\t\t\t\t\t{this.displayTurnKeeper()}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<h2>computer</h2>\n\t\t\t\t</div>\n\n\t\t\t\t<div id='gameboard-container'>\n\t\t\t\t\t<Gameboard\n\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\thandleSpaceClick={this.handleSpaceClick}\n\t\t\t\t\t\tcomputer={this.state.computer}\n\t\t\t\t\t\tusersTurn={this.state.usersTurn}\n\t\t\t\t\t\thandleAttack={this.handleAttack}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.allShipsPlaced ? (\n\t\t\t\t\t<Controls\n\t\t\t\t\t\tusersTurn={this.state.usersTurn}\n\t\t\t\t\t\tflipBoard={this.flipBoard}\n\t\t\t\t\t\tnewGame={this.newGame}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}